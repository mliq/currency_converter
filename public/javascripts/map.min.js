/*! boilerplate_angularJS_project 2015-05-20 */
function setupMap(){L.mapbox.accessToken="pk.eyJ1IjoibWxpcSIsImEiOiJUWnMzTG13In0.o1lqB-cy9XNlBrbJ3D_ATg",window.map=L.mapbox.map("map","mliq.c23716af",{maxZoom:2,minZoom:2,zoomControl:!1}),map.setView([32.25,18.984],2)}function markerLayer(){var a=L.mapbox.featureLayer().addTo(map);a.setGeoJSON(geojson),a.on("mouseover",function(a){a.layer.openPopup()}),a.on("mouseout",function(a){a.layer.closePopup()})}window.onload=function(){setupMap(),markerLayer()};var latlng,geojson={type:"FeatureCollection",features:[{}]},colors=["#f86767","#a3e46b","#0064cd","#2ECD2F","#6BB0CD"],i=0;myApp.service("MarkerService",["$http",function(a){this.add=function(){var b,c;return b="USD"!=from?from:to,c=colors[i],i++,i>colors.length-1&&(i=0),a.get("https://restcountries.eu/rest/v1/currency/"+b).success(function(a){latlng=a[0].latlng.reverse();var d={type:"Feature",properties:{title:from+to+" = "+lastRate,"marker-symbol":b.slice(0,1).toLowerCase(),"marker-color":c},geometry:{type:"Point",coordinates:latlng}};geojson.features.push(d),markerLayer(),console.log(geojson)})}}]);