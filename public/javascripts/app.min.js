/*! boilerplate_angularJS_project 2015-05-19 */
var myApp=angular.module("myApp",["angular.filter"]),from="USD",to="EUR",lastRate;myApp.controller("CurrencyController",["$scope","$http","$filter",function(a,b,c){a.message="Enter Amount: ",a.getPreset=function(){b.get("/currency/load").success(function(b){console.log(b),a.presets=b})},a.getPreset(),a.savePreset=function(){b.post("/currency/save",{from:from,to:to,rate:lastRate}).success(function(b){console.log("Saved!"),a.getPreset()})},a.convert=function(d){a.running=!0,a.message="Loading...",console.log(d),"special"==d?(from=a.from.toUpperCase(),to=a.to.toUpperCase()):(from=d.slice(0,3),to=d.slice(3));var e=e="USD"==to?"$":to+" ";"EUR"==to&&(e="€");var f=f="USD"==from?"$":from+" ";"EUR"==from&&(f="€"),b.get("/currency/get?from="+from+"&to="+to).success(function(b){lastRate=b.rate,a.message=c("currency")(a.amt,f)+" = "+c("currency")(a.amt*b.rate,e)})}}]);