/*! boilerplate_angularJS_project 2015-05-20 */
var myApp=angular.module("myApp",["angular.filter"]),from="USD",to="EUR",lastRate;myApp.controller("CurrencyController",["$scope","$http","$filter","MarkerService",function(a,b,c,d){a.message="Enter Amount: ",a.getPreset=function(){b.get("/currency/load").success(function(b){console.log(b),a.presets=b})},a.getPreset(),a.savePreset=function(){b.post("/currency/save",{from:from,to:to,rate:lastRate}).success(function(b){console.log("Saved!"),a.getPreset()})},a.convert=function(e){a.running=!0,a.message="Loading...",console.log(e),"special"==e?(from=a.from.toUpperCase(),to=a.to.toUpperCase()):(from=e.slice(0,3),to=e.slice(3));var f=f="USD"==to?"$":to+" ";"EUR"==to&&(f="€");var g=g="USD"==from?"$":from+" ";"EUR"==from&&(g="€"),b.get("/currency/get?from="+from+"&to="+to).success(function(b){lastRate=b.rate,a.message=c("currency")(a.amt,g)+" = "+c("currency")(a.amt*b.rate,f),d.add()})}}]);